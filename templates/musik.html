<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Musik Ember.js App</title>
        <meta name="author" content="MusikPolice">
        <meta name="description" content="An implementation of Musik powered by jQuery and Handlebars">

        <link rel="stylesheet" href="/static/styles/reset.css" />
        <link rel="stylesheet" href="/static/styles/musik.css" />

        <script src="/static/js/libs/jquery-2.0.3.js"></script>
        <script src="/static/js/libs/handlebars-1.1.2.js"></script>
        <script src="/static/js/app.js"></script>
        <script src="/static/js/helpers.js"></script>
    </head>
    <body>
        <!-- application will be rendered inside of this div -->
        <div id='wrapper'></div>

        <!-- Main Application template. All other templates will be rendered inside of this one -->
        <script id="page-template" type="text/x-handlebars">
            <header>
                <h1>MUSIK <small>The world&#39;s finest music player</small></h1>

                <ul class="current-user">
                    {{#if user}}
                        <li><a href='#'>{{ user.username }}</a></li>
                        <li><a href='#' id="logout">logout</a></li>
                    {{else}}
                        <li><a href='#'>Please log in</a></li>
                    {{/if}}
                </ul>

                <nav class="navigation">
                    <ul class="pages">
                        <li><a href='#' class='nowplaying'>Now Playing</a></li>
                        <li><a href='#' class='artists'>Artists</a></li>
                        <li><a href='#' class='albums'>Albums</a></li>
                        <li><a href='#' class='addmedia'>Add Media</a></li>
                        <li><a href='#' class='search'>Search</a></li>
                    </ul>

                    <ul class="player-controls">
                        <li><a href='#'>Play</a></li>
                        <li><a href='#'>Skip</a></li>
                    </ul>
                </nav>
            </header>

            <!-- all other templates will be rendered inside of this div -->
            <div id='content'></div>

            <footer>
                <p>&copy; <a href="http://github.com/MusikPolice/musik/" class="muted">MusikPolice</a> 2012</p>
            </footer>
        </script>

        <!-- User Registration template -->
        <script id="register-account-template" type="text/x-handlebars">
            <div class='register'>
                <h2>CREATE A NEW ACCOUNT</h2>
                
                {{#if error}}
                <div class='error'>
                    <p>{{error.message}}</p>
                </div>
                {{else}}
                <p>Enter your credentials below.</p>
                {{/if}}
                
                <form>
                    <div>
                        <label for="username">Username:</label>
                        <input id="username" name="username" type="text">
                    </div>
                    <div>
                        <label for="password">Password:</label>
                        <input id="password" name="password" type="password">
                    </div>
                    <div>
                        <label for="password2">Retype Password:</label>
                        <input id="password2" name="password2" type="password">
                    </div>

                    <button type="submit" class="register">Create</button>
                </form>
                <p>If you already have an account, <a href='#'>log in</a>.</p>
            </div>
        </script>

        <!-- Login Template -->
        <script id="login-template" type="text/x-handlebars">
            <div class='login'>
                {{#if error}}
                <h2>FAILBOATS AWAY!</h2>
                <div class='error'>
                    <p>{{error.message}}</p>
                </div>
                {{else}}
                <h2>LOGIN TO LISTEN</h2>
                <p>You&#39;ll need to log in to listen to your tunes.</p>
                {{/if}}

                <form>
                    <div>
                        <label for="username">Username:</label>
                        <input id="username" name="username" type="text">
                    </div>
                    <div>
                        <label for="password">Password:</label>
                        <input id="password" name="password" type="password">
                    </div>

                    <button type="submit" class="login">Login</button>
                </form>
                <p>If you don&#39;t have an account, <a href='#'>register now</a>.</p>
            </div>
        </script>

        <!-- Now Playing page - the currently playing song and queue -->
        <script id="nowplaying-template" type="text/x-handlebars">
            <div class='nowplaying'>
                <h2>NOW PLAYING</h2>
                <p>Eventually, this view will show the queue and the currently playing track with large obnoxious artwork.</p>
            </div>
        </script>

        <!-- Artists - shows a list of artists in your library -->
        <script id="artists-template" type="text/x-handlebars">
            <div class="artists">
                <h2>ARTISTS</h2>
                <ul>
                {{#each this}}
                    <li class='artist'>
                        <div class="image image-120x120">&nbsp;</div>
                        <div class="details">
                            <a href='#'><h3>{{artist.name}}</h3></a>
                            <ul>
                                <li>
                                    {{#arrayLength artist.albums}}
                                        {{length}} Albums
                                    {{else}}
                                        This artist doesn&#39;t have any albums
                                    {{/arrayLength}}
                                </li>
                                <li>48 Tracks</li>
                                <li>3.8 Average Rating</li>
                            </ul>
                        </div>
                        <div class="albums">
                            {{#each artist.albums}}
                                <p>Title: {{title}}</p>
                                <p>Id: {{id}}</p>
                            {{/each}}
                        </div>
                    </li>
                {{/each}}
                </ul>
            </div>
        </script>

        <!-- Artist - shows details about an individual artist -->
        <script id="artist-template" type="text/x-handlebars">
            <div class="artist">
                <div class="image image-300x300">&nbsp;</div>
                <div class="details">
                    <h3>{{name}}</h3>
                    <ul>
                        <li>Musicbrainz id: {{musicbrainz_artistid}}</li>
                        <li>5 Albums</li>
                        <li>48 Tracks</li>
                        <li>3.8 Average Rating</li>
                    </ul>
                </div>
            </div>
        </script>

        <!-- Albums - shows a list of albums in your library -->
        <script id="albums-template" type="text/x-handlebars">
            <div class="albums">
                <h2>ALBUMS</h2>
                <ul>
                {{#each this}}
                    <!-- TODO: use a sub template here -->
                    <li class='album'>
                        <div class="image image-120x120">&nbsp;</div>
                        <div class="details">
                            <a href='#'><h3>{{album.title}}</h3></a>
                            <ul>
                                <li>Released in {{album.year}}</li>
                                <li>{{album.label}} {{#if album.country}}({{album.country}}){{/if}}</li>
                                <li>3.8 Average Rating</li>
                            </ul>
                        </div>
                    </li>
                {{/each}}
                </ul>
            </div>
        </script>

        <!-- Album - shows details about an individual album -->
        <script id="album-template" type="text/x-handlebars">
            <div class="album">
                <div class="image image-300x300">&nbsp;</div>
                <div class="details">
                    <h3>{{title}}</h3>
                    <ul>
                        <li>Released in {{year}}</li>
                        <li>{{label}} {{#if country}}({{country}}){{/if}}</li>
                        <li>3.8 Average Rating</li>
                    </ul>
                </div>
            </div>
        </script>

        <!-- Add Media - allows you to add media to your library -->
        <script id="addmedia-template" type="text/x-handlebars">
            <div class="addmedia">
                <h2>IMPORT MEDIA</h2>
                <p>Need to add some music to your library? This is the place to do it.</p>

                {{#if error}}
                <div class='error'>
                    <p>{{error.message}}</p>
                </div>
                {{/if}}

                {{#if success}}
                <div class='success'>
                    <p>Hooray!</p>
                </div>
                {{/if}}

                <form id="importmedia">
                    <div class="inputs">
                        <label for="path">Path:</label>
                        <input id="path" name="path" type="text">
                    </div>
                    <div class="buttons">
                        <button class="browse">Browse</button>
                        <button class="addmedia">Import Music</button>
                    </div>
                </form>
            </div>
        </script>
    </body>
</html>
